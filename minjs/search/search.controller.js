!function(){function e(e,r,t,a){console.log("searchCtrl is running"),e.SendData=function(){var o="https://www.googleapis.com/qpxExpress/v1/trips/search?key=AIzaSyC94iyxgTlqCnHrUGWOLrwso5VZYRPZniM",n={farePrefrence:e.farePrefrence,fromAirport:e.fromAirport,fromDate:e.fromDate,passengers:e.passengers,toAirport:e.toAirport,toDate:e.toDate,travelType:e.travelType},s=_buildRequestData(n),i={headers:{"content-type":"application/json"}};r.post(o,s,i).success(function(r,o,n,s){a.path("/result"),t.set(r),e.tripResult=t.get()}).error(function(r,t,a,o){e.errorMessage="Something went wrong",e.errorDetail=r+t+header+o})}}angular.module("meanApp").controller("searchCtrl",e),e.$inject=["$scope","$http","flightData","$location"],_buildRequestData=function(e){var r=_getPreferredCabin(e.farePrefrence),t={origin:e.fromAirport,destination:e.toAirport,date:e.fromDate,preferredCabin:r},a=[];if(a.push(t),"Round-trip"==e.travelType){var o={origin:e.toAirport,destination:e.fromAirport,date:e.toDate,preferredCabin:r};a.push(o)}var n={request:{slice:a,passengers:{adultCount:e.passengers},solutions:4,refundable:!1}};return n},_getPreferredCabin=function(e){var r="";switch(e){case"Economy":r="COACH";break;case"Business":r="BUSINESS";break;case"First":r="FIRST";break;default:r="COACH"}return r}}();